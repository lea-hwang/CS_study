# ì œì–´ ì»´í¬ë„ŒíŠ¸ì™€ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ì˜ ì°¨ì´

## ğŸ” ì œì–´ ì»´í¬ë„ŒíŠ¸ (Controlled Component)

- ì œì–´ ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ìì˜ ì…ë ¥ì„ ê¸°ë°˜ìœ¼ë¡œ ìì‹ ì˜ stateë¥¼ ê´€ë¦¬í•˜ê³  ì—…ë°ì´íŠ¸í•œë‹¤. Reactì—ì„œëŠ” ë³€ê²½í•  ìˆ˜ ìˆëŠ” stateê°€ ì¼ë°˜ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ì˜ state ì†ì„±ì— ìœ ì§€ë˜ë©° setState()ì— ì˜í•´ ì—…ë°ì´íŠ¸ë‹¤. ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ Reactì— ì˜í•´ ê°’ì´ ì œì–´ë˜ëŠ” ì…ë ¥ í¼ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ â€œì œì–´ ì»´í¬ë„ŒíŠ¸ (controlled component)â€œë¼ê³  í•œë‹¤.

- *ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ëŠ” ì»´í¬ë„ŒíŠ¸ì— event ê°ì²´ë¥¼ ì´ìš©í•´ `setState()`ë¡œ ê°’ì„ ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ì œì–´ ì»´í¬ë„ŒíŠ¸ ë°©ì‹*

  ```react
  export default function App() {
    const [input, setInput] = useState("");
    const onChange = (e) => {
      setInput(e.target.value);
    };
  
    return (
      <div className="App">
        <input onChange={onChange} />
      </div>
    );
  }
  ```

  

- ì œì–´ ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ê³¼ ì €ì¥ë˜ëŠ” ê°’ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ëœë‹¤.

![img](https://velog.velcdn.com/images%2Fyukyung%2Fpost%2F9f93d492-f1e7-4768-9bdc-b2c3c7d6f10c%2FHoneycam%202021-05-11%2015-30-16.gif)

ì œì–´ ì»´í¬ë„ŒíŠ¸ì˜ ê°’ì€ **í•­ìƒ ìµœì‹ ê°’**ì„ ìœ ì§€í•œë‹¤. ìƒˆë¡œìš´ ì…ë ¥ ê°’ì´ ìƒê¸¸ë•Œ ë§ˆë‹¤ ìƒíƒœë¥¼ ìƒˆë¡­ê²Œ ê°±ì‹ í•œë‹¤. ì´ëŠ” ë°ì´í„°ì™€ UIì—ì„œ ì…ë ¥í•œ ê°’ì´ í•­ìƒ ë™ê¸°í™”ëœë‹¤.



## ğŸ” ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ 

- ê¸°ì¡´ì˜ ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ í¬ê²Œ ë‹¤ë¥´ì§€ ì•Šì€ ë°©ì‹. 
  - ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•  ë•Œ í¼ì„ ì œì¶œí• ë•Œ (submit button)ì„ í´ë¦­í•  ë•Œ ìš”ì†Œ ë‚´ë¶€ì˜ ê°’ì„ ì–»ì–´ì™”ë‹¤. ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ ë˜í•œ ì´ì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.

- ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ ë°©ì‹ì„ ì‚¬ìš©í•  ë•, ì œì–´ ì»´í¬ë„ŒíŠ¸ ë°©ì‹ì—ì„œ ì‚¬ìš©í•œ `setState()`ë¥¼ ì“°ì§€ ì•Šê³  `ref`(Reactì—ì„œ Domì„ ì§ì ‘ í•¸ë“¤ë§í•  ë•Œ ì‚¬ìš©)ë¥¼ ì‚¬ìš©í•´ì„œ ê°’ì„ ì–»ëŠ”ë‹¤.

  ```react
  export default function App() {
    const inputRef = useRef(); // ref ì‚¬ìš©
    const onClick = () => {
      console.log(inputRef.current.value);
    };
  
    return (
      <div className="App">
        <input ref={inputRef} />
        <button type="submit" onClick={onClick}>
          ì „ì†¡
        </button>
      </div>
    );
  }
  ```

  

- ê°’ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™” ë˜ì§€ ì•ŠëŠ”ë‹¤. 
  - ë§Œì•½ aì™€ bë¼ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆì„ ë•Œ, aì— ëŒ€í•œ ë³€í™”ë¥¼ ì¦‰ê°ì ìœ¼ë¡œ bê°€ ì˜í–¥ì„ ë°›ì•„ì•¼ í• ë•Œ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ëŠ” ì´ëŸ° ë°©ì‹ì— ëŒ€í•œ ëŒ€ì‘ì„ í•  ìˆ˜ ì—†ë‹¤.
  - ì œì–´ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš° ì‚¬ìš©ìê°€ ì…ë ¥ì„ í•˜ëŠ” ì•¡ì…˜ì„ ì·¨í• ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ëŠ” ë°˜ë©´, 
  - ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ íŠ¸ë¦¬ê±° í•˜ê¸° ì „ê¹Œì§€ëŠ” ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ì§€ë„ ì•Šê³  ê°’ì„ ë™ê¸°í™” ì‹œí‚¤ì§€ë„ ì•ŠëŠ”ë‹¤.

![img](https://velog.velcdn.com/images%2Fyukyung%2Fpost%2F6c8405c3-f230-4d27-b1df-72e6c99b393c%2FHoneycam%202021-05-11%2015-32-01.gif)

í•„ë“œì—ì„œ ê°’ì„ íŠ¸ë¦¬ê±° í•´ì•¼ ê°’ì„ ì–»ì„ ìˆ˜ ìˆë‹¤. ì‚¬ì§„ì—ì„  [ì „ì†¡] ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ consoleì— ê°’ì´ ì°íŒë‹¤. [ì „ì†¡]ë²„íŠ¼ì„ í´ë¦­í•´ íŠ¸ë¦¬ê±° í•˜ê¸° ì „ê¹Œì§€ì˜ ê°’ì€ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.



### â“ ì™œ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ë• useRefë¥¼ ì‚¬ìš©í•˜ê³ , useRefëŠ” ì™œ ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ê±¸ê¹Œ?

1. useRef() ëŠ” heapì˜ì—­ì— ì €ì¥ë˜ëŠ” ì¼ë°˜ì ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ì´ë‹¤.
2. ë§¤ë²ˆ ë Œë”ë§í•  ë•Œ ë™ì¼í•œ ê°ì²´ë¥¼ ì œê³µí•œë‹¤. heapì— ì €ì¥ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë˜ê±°ë‚˜ ê°€ë¹„ì§€ ì»¬ë ‰íŒ…ë  ë•Œê¹Œì§€, ì°¸ì¡°í• ë•Œë§ˆë‹¤ ê°™ì€ ë©”ëª¨ë¦¬ ê°’ì„ ê°€ì§„ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.
3. ê°’ì´ ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°–ê³ ìˆê¸° ë•Œë¬¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ === ì—°ì‚°ì´ í•­ìƒ true ë¥¼ ë°˜í™˜í•œë‹¤. ì¦‰ ë³€ê²½ì‚¬í•­ì„ ê°ì§€í•  ìˆ˜ ì—†ì–´ì„œ ë¦¬ë Œë”ë§ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»ì´ë‹¤.



### â“ ì œì–´ ì»´í¬ë„ŒíŠ¸ ì–¸ì œ ì‚¬ìš©?

- ìœ íš¨ì„± ê²€ì‚¬
- ìœ íš¨í•œ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ì „ì†¡ ë²„íŠ¼ì˜ ìƒíƒœë¥¼ disabledë¡œ í‘œì‹œí•˜ê¸°
- ì‹ ìš©ì¹´ë“œì™€ ê°™ì€ íŠ¹ì • ì…ë ¥ ë°©ì‹ ì ìš©í•˜ê¸°



### â— ì œì–´ ì»´í¬ë„ŒíŠ¸ì˜ ë¬¸ì œì 

ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§, ë¶ˆí•„ìš”í•œ apiìš”ì²­ìœ¼ë¡œ ì¸í•œ ìì› ë‚­ë¹„ ë¬¸ì œë¡œë„ ì—°ê²° ë  ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ ë¶ˆí•„ìš”í•œ ë°©ë²•ì„ ë§‰ê¸° ìœ„í•´ **ìŠ¤ë¡œí‹€ë§(throttle)**ì´ë‚˜ **ë””ë°”ìš´ì‹± (debounce)**ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

> `ì“°ë¡œí‹€ë§` : ë§ˆì§€ë§‰ í•¨ìˆ˜ê°€ í˜¸ì¶œëœ í›„ **ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ê¸° ì „ì— ë‹¤ì‹œ í˜¸ì¶œë˜ì§€ ì•Šë„ë¡** í•˜ëŠ” ê²ƒ
> `ë””ë°”ìš´ì‹±` : ì—°ì´ì–´ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë“¤ ì¤‘ **ë§ˆì§€ë§‰ í•¨ìˆ˜(ë˜ëŠ” ì œì¼ ì²˜ìŒ)ë§Œ í˜¸ì¶œ**í•˜ë„ë¡ í•˜ëŠ” ê²ƒ

ì¼ë°˜ì ìœ¼ë¡œ ëª¨ë“  form ìš”ì†Œì—ì„œ ìƒíƒœì˜ ë™ê¸°í™”ê°€ í•„ìš”í•œ ê±´ ì•„ë‹ˆê³ , *form ìš”ì†Œê°€ ì¦ê°€í• ìˆ˜ë¡ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ì“°ë¡œí‹€ë§ì´ë‚˜ ë””ë°”ìš´ì‹±ì„ ê±¸ê¸°ëŠ” í˜ë“¤ë‹¤.* ë§Œì•½ ê°’ì´ íŠ¸ë¦¬ê±° ëœ ì´í›„ì—ë§Œ ê°±ì‹ ì´ ë¼ë„ ë¬¸ì œê°€ ì—†ë‹¤ë©´, refë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•˜ëŠ”ë° ë”ìš± ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•´ ë Œë”ë§ì„ ìµœì í™”í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ [react-hook-form](https://react-hook-form.com/)ì´ë‹¤.



## ğŸ” ê¸°ëŠ¥ : ì œì–´ ì»´í¬ë„ŒíŠ¸ vs ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸

- ì¦‰ê°ì ìœ¼ë¡œ, ì‹¤ì‹œê°„ìœ¼ë¡œ ê°’ì— ëŒ€í•œ í”¼ë“œë°±ì´ í•„ìš”í•˜ë‹¤ => ì œì–´ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
- ì¦‰ê°ì ì¸ í”¼ë“œë°±ì´ ë¶ˆí•„ìš”í•˜ê³  ì œì¶œì‹œì—ë§Œ ê°’ì´ í•„ìš”í•˜ë‹¤, ë¶ˆí•„ìš”í•œ ë Œë”ë§ê³¼ ê°’ ë™ê¸°í™”ê°€ ì‹«ë‹¤ => ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

| ê¸°ëŠ¥                                               | ì œì–´ ì»´í¬ë„ŒíŠ¸ | ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ |
| -------------------------------------------------- | ------------- | --------------- |
| ì¼íšŒì„± ì •ë³´ ê²€ìƒ‰ (ì˜ˆ: ì œì¶œ)                        | O             | O               |
| ì œì¶œ ì‹œ ê°’ ê²€ì¦                                    | O             | O               |
| ì‹¤ì‹œê°„ìœ¼ë¡œ í•„ë“œê°’ì˜ ìœ íš¨ì„± ê²€ì‚¬                    | O             | X               |
| ì¡°ê±´ë¶€ë¡œ ì œì¶œ ë²„íŠ¼ ë¹„í™œì„±í™” (disabled)             | O             | X               |
| ì‹¤ì‹œê°„ìœ¼ë¡œ ì…ë ¥ í˜•ì‹ ì ìš©í•˜ê¸° (ìˆ«ìë§Œ ê°€ëŠ¥í•˜ê²Œ ë“±) | O             | X               |
| ë™ì  ì…ë ¥                                          | O             | X               |





ì°¸ê³ )

https://ko.reactjs.org/docs/forms.html#controlled-components

https://whales.tistory.com/126

https://velog.io/@yukyung/React-%EC%A0%9C%EC%96%B4-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%99%80-%EB%B9%84%EC%A0%9C%EC%96%B4-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0